<!doctype html>
<html>
<head>
    <title>Stronka</title>
    <link href="assets/style/style.css" rel="stylesheet">
</head>
<body style="padding: 3vw;">
    
    <div class="mb-3" id="pole">
        
        <h1 id="tekstGora">Lista klientów:</h1>

        <form onsubmit="zapisz(event)" id="poleFormularz" style="display: none;">

            <label class="form-label first-element" for="nazwaFirmy">Nazwa firmy</label>
            <input class="form-control"  type="text" placeholder="Firma123" id="nazwaFirmy" required><br>

            <label class="form-label" for="nip">NIP</label>
            <input class="form-control"  type="number" placeholder="123456789X" id="nip" required><br>

            <label class="form-label" for="miasto">Miasto</label>
            <input class="form-control"  type="text" placeholder="Krakow" id="miasto" required><br>
            
            <label class="form-label" for="ulica">Ulica</label>
            <input class="form-control"  type="text" placeholder="Krakowska" id="ulica" required><br>

            <label class="form-label" for="nrDomu">Nr domu</label>
            <input class="form-control"  type="number" placeholder="33" id="nrDomu" required><br>
            
            <label class="form-label" for="nrMieszkania">Nr mieszkania</label>
            <input class="form-control"  class="form-control"  type="number" placeholder="1" id="nrMieszkania"><br>

            <label class="form-label" for="kodPocztowy">Kod pocztowy</label>
            <input class="form-control"  type="text" placeholder="11-111" id="kodPocztowy" required><br>
            
            <label class="form-label" for="uwagi">Uwagi</label>
            <textarea class="form-control" type="textarea" placeholder="Twoje uwagi dotyczące czegośtam" id="uwagi">

            </textarea><br>

            <label class="form-label" for="branza">Branża</label>
            <select id="branza" class="form-select" required>
                <option>Bułki</option>
                <option>Chleb</option>
                <option>Cement</option>
            </select><br>
            
            <label class="form-check-label" for="aktywny">Aktywny</label>
            <input id="aktywny" class="form-check-input" type="checkbox" required><br><br>
        
            <input type="submit" class="btn btn-primary" value="Zapisz">

            <button type="button" class="btn btn-primary" onclick="wstaw(event)">Wstaw dane</button>

            <button type="button" onclick="" id="przycisk2" onclick="zmien(event)" class="btn btn-primary">Zlokalizuj użytkownika</button>

        </form>

        <ul id="poleDane">
        </ul>

        <button type="button" onclick="pokaz(event)" id="przycisk1" class="btn btn-primary">Pokaż formularz</button>

    </div>

    <script>

        var listaKupujacych = [];

        function pokaz(event)
        {
            const poleFormularz = document.getElementById("poleFormularz");
            const przycisk1 = document.getElementById("przycisk1");

            poleFormularz.style.display = "block";

            tekstGora = document.getElementById("tekstGora");
            tekstGora.innerHTML = "Dodaj klienta:";

            przycisk1.style.display = "none";

            poleDane = document.getElementById("poleDane");
            
            poleDane.innerHTML = "";

            przywrocDostep(event);
        }

        function zapisz(event)
        {
            event.preventDefault()

            const obiekt = {
            nazwaFirmy: document.getElementById("nazwaFirmy").value,
            nip: document.getElementById("nip").value,
            miasto: document.getElementById("miasto").value,
            ulica: document.getElementById("ulica").value,
            nrDomu: document.getElementById("nrDomu").value,
            nrMieszkania: document.getElementById("nrMieszkania").value,
            kodPocztowy: document.getElementById("kodPocztowy").value,
            uwagi: document.getElementById("uwagi").value,
            branza: document.getElementById("branza").value,
            aktywny: document.getElementById("aktywny").checked
            };

            console.log(obiekt);

            const poleFormularz = document.getElementById("poleFormularz");
            const przycisk1 = document.getElementById("przycisk1");

            poleFormularz.style.display = "none";
            przycisk1.style.display = "block";

            tekstGora = document.getElementById("tekstGora");
            tekstGora.innerHTML = "Lista klientów:";

            listaKupujacych.push(obiekt);

            poleDane = document.getElementById("poleDane");
            
            for(let i=0; i < listaKupujacych.length;  i++)
            {
                poleDane.innerHTML += `<li>${listaKupujacych[i].nazwaFirmy}</li>`; 
            }

        }

        function wstaw(event)
        {
            event.preventDefault()

            document.getElementById("nazwaFirmy").value="Firma33";
            document.getElementById("nip").value=1111111111111111;
            document.getElementById("miasto").value="Firmiasto";
            document.getElementById("ulica").value="Firmowa";
            document.getElementById("nrDomu").value=33;
            document.getElementById("kodPocztowy").value="33-333";
            document.getElementById("uwagi").value="brak";
            document.getElementById("branza").value="Cement";
            document.getElementById("aktywny").checked=true;

            zablokujDostep(event);
        }

        function zmien(event)
        {

            const obiekt = {
            nazwaFirmy: document.getElementById("nazwaFirmy").value,
            nip: document.getElementById("nip").value,
            miasto: document.getElementById("miasto").value,
            ulica: document.getElementById("ulica").value,
            nrDomu: document.getElementById("nrDomu").value,
            nrMieszkania: document.getElementById("nrMieszkania").value,
            kodPocztowy: document.getElementById("kodPocztowy").value,
            uwagi: document.getElementById("uwagi").value,
            branza: document.getElementById("branza").value,
            aktywny: document.getElementById("aktywny").checked
            };

            let szukaj = listaKupujacych.find(obiekt);

            wyzeruj(event);

            const obiekt2 = {
            nazwaFirmy: document.getElementById("nazwaFirmy").value,
            nip: document.getElementById("nip").value,
            miasto: document.getElementById("miasto").value,
            ulica: document.getElementById("ulica").value,
            nrDomu: document.getElementById("nrDomu").value,
            nrMieszkania: document.getElementById("nrMieszkania").value,
            kodPocztowy: document.getElementById("kodPocztowy").value,
            uwagi: document.getElementById("uwagi").value,
            branza: document.getElementById("branza").value,
            aktywny: document.getElementById("aktywny").checked
            };

            szukaj = obiekt2;

        }

        function przywrocDostep(event)
        {
            event.preventDefault()

            document.getElementById("nazwaFirmy").disabled=false;
            document.getElementById("nip").disabled=false;
            document.getElementById("miasto").disabled=false;
            document.getElementById("ulica").disabled=false;
            document.getElementById("nrDomu").disabled=false;
            document.getElementById("kodPocztowy").disabled=false;
            document.getElementById("uwagi").disabled=false;
            document.getElementById("branza").disabled=false;
            document.getElementById("aktywny").disabled=false;
        }

        function zablokujDostep(event)
        {
            event.preventDefault()

            document.getElementById("nazwaFirmy").disabled=true;
            document.getElementById("nip").disabled=true;
            document.getElementById("miasto").disabled=true;
            document.getElementById("ulica").disabled=true;
            document.getElementById("nrDomu").disabled=true;
            document.getElementById("kodPocztowy").disabled=true;
            document.getElementById("uwagi").disabled=true;
            document.getElementById("branza").disabled=true;
            document.getElementById("aktywny").disabled=true;
        }

        function wyzeruj(event)
        {
            document.getElementById("nazwaFirmy").value=undefined;
            document.getElementById("nip").value=undefined;
            document.getElementById("miasto").value=undefined;
            document.getElementById("ulica").value=undefined;
            document.getElementById("nrDomu").value=undefined;
            document.getElementById("kodPocztowy").value=undefined;
            document.getElementById("uwagi").value=undefined;
            document.getElementById("branza").value=undefined;
            document.getElementById("aktywny").checked=false;
        }

    </script>
</body>
</html>
